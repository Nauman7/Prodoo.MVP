/*
 * File: app/view/SearchResumeDetail.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('ProDooMobileApp.view.SearchResumeDetail', {
    extend: 'Ext.dataview.List',
    alias: 'widget.SearchResumeDetail',

    requires: [
        'Ext.XTemplate',
        'Ext.Button'
    ],

    config: {
        store: 'SearchResultDetail',
        cls: [
            'darkBlue',
            'resumeDetail'
        ],
        itemTpl: [
            '<div class="detailTitle">',
            '    <span class="tickIcon"></span>',
            '    <span class=\'marginForIcon\'>Available Now</span>',
            '</div>',
            '',
            '<tpl if="IsConfirmed">',
            '',
            '<div class="LocationDiv">',
            '    <span class="location">{Contact.UserName}</span>',
            '    <span class="onSite">{Contact.Email}</span>',
            '</div>',
            '    ',
            '<div class="LocationDiv"><span class="location">{Country}</span>',
            '    <span class="onSite">{Contact.Phone}</span>',
            '</div>',
            ' ',
            '',
            '<tpl else>',
            '',
            '<div class="LocationDiv">',
            '    <span class="location">{Country}</span>',
            '     <span class="onSite">On Site</span>',
            '</div>',
            '</tpl>',
            '',
            '<div class="ViewCnt">',
            '    <div class="tabHead">',
            '        <span class="speakIcon"> </span>',
            '        <span class="ArrowUp"> </span>',
            '    </div>',
            '    <div class="Innerlist">',
            '        <tpl for="Languages">',
            '        <div class="listCnt">',
            '            ',
            '            <span class="language">{LanguageValue}</span>',
            '            <span class="level">Level <span class="levelNo orange2">{ExperienceLevel}</span></span>',
            '        </div>',
            '        </tpl>',
            '    </div>',
            '</div>',
            '<div class="ViewCnt">',
            '    <div class="tabHead">',
            '        <span class="userIcon"> </span>',
            '        <span class="ArrowUp"> </span>',
            '    </div>',
            '    <div class="Innerlist">',
            '        <tpl for="Profiles">',
            '        <div class="listCnt">',
            '            <span class="language">{ProfileValue}</span>',
            '            <!--<span class="level"><span class="levelNo YearNo orange2">{ExperienceLevel}</span> Years</span>-->',
            '',
            '        </div>',
            '     </tpl>',
            '    </div>',
            '</div>',
            '',
            '<div class="ViewCnt">',
            '    <div class="tabHead">',
            '        <span class="langIcon"> </span>',
            '        <span class="ArrowUp"> </span>',
            '    </div>',
            '    <div class="Innerlist">',
            '        <div class="listCnt center">',
            '            <span class="language"><tpl for="Skills"> {SkillValue}, </tpl></span>',
            '        </div>',
            '',
            '    </div>',
            '</div>',
            '',
            '<div class="ViewCnt">',
            '    <div class="tabHead">',
            '        <span class="certIcon"> </span>',
            '        <span class="ArrowUp"> </span>',
            '    </div>',
            '    <div class="Innerlist">',
            '        <tpl for="Certifications">',
            '        <div class="listCnt">',
            '            <span class="language">{CertificationValue}</span>',
            '            <span class="yearExp">{CertificationDate:date("Y")}</span>',
            '        </div>',
            '            </tpl>',
            '    </div>',
            '</div>',
            '',
            '   ',
            '<div class="ViewCnt">',
            '     ',
            '    <div class="tabHead">',
            '        <span class="caseIcon"> </span>',
            '        <span class="ArrowUp"> </span>',
            '    </div>',
            '    <div class="Innerlist">',
            '    <tpl for="ResumeExperience">',
            '        <div class="tabHead InnerHead">',
            '           <span class="BoardGame">{CompanyWorked}</span>',
            '            <span class="ArrowUp"> </span>',
            '        </div>',
            '',
            '',
            '    <div class="innerListLevel2">',
            '<!--             <div class="listCnt">',
            '                <span class="language"></span>',
            '                ',
            '            </div> -->',
            '            <div class="listCnt">',
            '                <span class="language">{ProfileValue} ({IndustryValue})</span>',
            '                <span class="yearExp">{StartDateYear} - {EndDateYear}</span>',
            '              ',
            '            </div>',
            '            ',
            '',
            '            <div class="listCnt para">',
            '                {Description}',
            '            </div>',
            '        </div>',
            '        </tpl>',
            '        ',
            '    </div>',
            '</div>',
            ''
        ],
        listeners: [
            {
                fn: 'onListItemTap',
                event: 'itemtap'
            },
            {
                fn: 'onMybutton6Tap1',
                event: 'tap',
                delegate: '#mybutton7'
            },
            {
                fn: 'onMybutton4Tap',
                event: 'tap',
                delegate: '#shortlistResume'
            }
        ],
        items: [
            {
                xtype: 'button',
                bottom: 10,
                cls: [
                    'btnCircle',
                    'backIcon'
                ],
                docked: 'bottom',
                itemId: 'mybutton7',
                left: 10,
                text: ' '
            },
            {
                xtype: 'button',
                bottom: 10,
                cls: [
                    'btnCircle',
                    'searchIcon3'
                ],
                docked: 'bottom',
                hidden: true,
                itemId: 'shortlistResume',
                right: 10,
                text: ' '
            }
        ]
    },

    onListItemTap: function(dataview, index, target, record, e, eOpts) {
        var selectedItem = e.target;
        if(selectedItem.className.indexOf('ArrowUp')>=0){
            Ext.get(selectedItem).toggleCls('ArrowDown');
            var detail = selectedItem.parentElement.nextElementSibling;


            if ( !Ext.get(selectedItem).hasCls('ArrowDown')) {
                detail.removeAttribute('style');
            }
            else{
                if(detail.style.maxHeight==""){
                    detail.removeAttribute('style');
                }
                detail.style.maxHeight = '0px';
            }
        }

        // if(selectedItem.className.indexOf('SrNo')>=0){
        //     Ext.get(selectedItem).toggleCls('rightSide');
        // }
    },

    onMybutton6Tap1: function(button, e, eOpts) {
        G.Pop();
    },

    onMybutton4Tap: function(button, e, eOpts) {

    }

});